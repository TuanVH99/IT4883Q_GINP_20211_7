<!DOCTYPE html>
<html>
  <head>
    <title>Chat app</title>
    <script
      src="https://cdn.socket.io/4.4.0/socket.io.min.js"
      integrity="sha384-1fOn6VtTq3PWwfsOrk45LnYcGosJwzMHv+Xh/Jx5303FVOXzEnw0EpLv30mtjmlj"
      crossorigin="anonymous"
    ></script>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
      crossorigin="anonymous"
    />
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  </head>

  <body>
    <div id="authentication">
      <div class="container-fluid">
        <div class="row">
          <div id="signup" class="col-5 m-5">
            <div class="card">
              <div class="card-header">Đăng ký</div>
              <div class="card-body">
                <form>
                  <div class="mb-3">
                    <label for="input-username" class="form-label"
                      >Tên hiển thị</label
                    >
                    <input
                      type="text"
                      class="form-control"
                      id="input-username"
                    />
                  </div>
                  <div class="mb-3">
                    <label for="input-account" class="form-label"
                      >Tài khoản</label
                    >
                    <input
                      type="text"
                      class="form-control"
                      id="input-account"
                    />
                  </div>
                  <div class="mb-3">
                    <label for="input-description" class="form-label"
                      >Mô tả</label
                    >
                    <input
                      type="text"
                      class="form-control"
                      id="input-description"
                    />
                  </div>
                  <div class="mb-3">
                    <label for="input-password" class="form-label"
                      >Mật khẩu</label
                    >
                    <input
                      type="password"
                      class="form-control"
                      id="input-password"
                    />
                  </div>

                  <button
                    id="button-signup"
                    type="button"
                    class="btn btn-primary"
                  >
                    Đăng ký
                  </button>
                </form>
              </div>
            </div>
          </div>
          <div id="login" class="col-5 m-5">
            <div class="card">
              <div class="card-header">Đăng nhập</div>
              <div class="card-body">
                <form>
                  <div class="mb-3">
                    <label for="input-account" class="form-label"
                      >Tài khoản</label
                    >
                    <input
                      type="text"
                      class="form-control"
                      id="input-account-login"
                    />
                  </div>

                  <div class="mb-3">
                    <label for="input-password" class="form-label"
                      >Mật khẩu</label
                    >
                    <input
                      type="password"
                      class="form-control"
                      id="input-password-login"
                    />
                  </div>

                  <button
                    id="button-login"
                    type="button"
                    class="btn btn-primary"
                  >
                    Đăng nhập
                  </button>
                </form>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div id="main"></div>
    <script>
      //  script for authentication

      $("#button-signup").on("click", async function () {
        var signupInfo = {
          username: $("#signup #input-username").val(),
          account: $("#signup #input-account").val(),
          password: $("#signup #input-password").val(),
          description: $("#signup #input-description").val(),
        };
        try {
          var result = await axios.post("/api/auth/signup", signupInfo);
          alert(result.data.message);
        } catch (error) {
          alert(error.response.data.message);
        }
      });
      var loginInfo = $("#login form");
    </script>
    <script>
      //   var socket = io();
    </script>
  </body>
</html>
